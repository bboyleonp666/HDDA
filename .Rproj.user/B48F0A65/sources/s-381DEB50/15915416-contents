### packages
library(mice)
library(missForest)

### ------------ Imputation ------------ ###
## try n error: imputation
HousePrice = read.csv("HousePrice.csv")

### ------------ Testing Imputation Accuracy ------------ ###
# # get complete case of house price which are continuous
# CompleteHousePrice = HousePrice[complete.cases(HousePrice), ]
# mean(is.na(HousePrice)) # missing rate
# 
# ## use CompletetHousePrice as input for analysis for saving time
# write.csv(CompleteHousePrice, "ImputedHousePrice.csv", row.names = FALSE)
# 
# ### imputation by multi-session
# # TestImputeHousePrice = prodNA(CompletetHousePrice, noNA = .05) # package missForest
# 
# RFimputeHousePrice = mice(TestImputeHousePrice, method = "rf", maxit = 2, m = 20)
# saveRDS(RFimputeHousePrice, "RFimpute.rds")
# complete(RFimputeHousePrice)
# 
# CARTimputeHousePrice = mice(TestImputeHousePrice, method = "cart", maxit = 2, m = 20)
# saveRDS(CARTimputeHousePrice, "CARTimpute.rds")
# complete(CARTimputeHousePrice)
### ------------ Ignore this part ------------ ###

str(HousePrice)
NAPerCol = colSums(is.na(HousePrice)) # missing per columns 
NAPerCol[NAPerCol > 0] # only columns with missing value

cafe1500 = HousePrice[, grepl("cafe.*1500", colnames(HousePrice))]
cafe1500[!complete.cases(cafe1500), ]



